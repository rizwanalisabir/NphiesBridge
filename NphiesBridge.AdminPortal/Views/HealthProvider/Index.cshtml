@model List<NphiesBridge.Core.Entities.HealthProvider>
@{
    ViewBag.Title = "Health Providers";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <div>
            <h5 class="mb-0">Health Providers</h5>
            <small class="text-muted">Manage healthcare provider organizations</small>
        </div>
        <a href="javascript:void(0);" class="btn-add-modern"
           onclick="openModal('Add Health Provider', '@Url.Action("Create",null)')">
            <i class="zmdi zmdi-plus"></i> Add Provider
        </a>
    </div>
    <div class="card-body">
        @if (Model.Any())
        {
            <div class="modern-list-container">
                @foreach (var provider in Model)
                {
                    <div class="modern-row">
                        <div class="row-avatar">
                            @provider.Name.Substring(0, Math.Min(2, provider.Name.Length)).ToUpper()
                        </div>

                        <div class="row-content">
                            <div class="row-main-info">
                                <div class="row-title">@provider.Name</div>
                                <div class="row-info-value">@provider.Phone</div>
                                <div class="row-subtitle text-primary">Unique ID: @provider.Id</div>
                            </div>

                            <div class="row-info-item">
                                <div class="row-info-label">Contact</div>
                                <div class="row-info-value">@provider.Email</div>
                                <div class="row-info-value">@provider.Phone</div>
                            </div>

                            <div class="row-info-item">
                                <div class="row-info-label">Contact Person</div>
                                <div class="row-info-value">@provider.ContactPerson</div>
                            </div>

                            <div class="row-info-item">
                                <div class="row-info-label">Status</div>
                                <div class="row-info-value">
                                    @if (provider.IsActive)
                                    {
                                        <span class="row-status status-active">
                                            <i class="zmdi zmdi-check-circle mr-1"></i>Active
                                        </span>
                                    }
                                    else
                                    {
                                        <span class="row-status status-inactive">
                                            <i class="zmdi zmdi-pause-circle mr-1"></i>Inactive
                                        </span>
                                    }
                                </div>
                            </div>

                            <div class="row-info-item">
                                <div class="row-info-label">Created</div>
                                <div class="row-info-value">@provider.CreatedAt.ToString("MMM dd, yyyy")</div>
                            </div>
                        </div>

                        <div class="row-actions">
                            <a href="javascript:void(0);" class="action-btn action-btn-edit"
                               onclick="openModal('Edit Health Provider', '@Url.Action("Edit", new { id = provider.Id })')">
                                <i class="zmdi zmdi-edit action-icon"></i>
                            </a>
                            <a href="javascript:void(0);" class="action-btn action-btn-delete"
                               onclick="openModal('Delete Confirmation', '@Url.Action("Delete", new { id = provider.Id })')">
                                <i class="zmdi zmdi-delete action-icon"></i>
                            </a>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="empty-state-modern">
                <div class="empty-icon">
                    <i class="zmdi zmdi-hospital-alt text-white"></i>
                </div>
                <div class="empty-title">No Health Providers Found</div>
                <div class="text-white mb-2">Start by adding your first healthcare provider organization</div>
                <a href="javascript:void(0);" class="btn-add-modern"
                   onclick="openModal('Add Health Provider', '@Url.Action("Create", null)')">
                    <i class="zmdi zmdi-plus mr-2"></i> Add First Provider
                </a>
            </div>
        }
    </div>
</div>